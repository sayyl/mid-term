<% if @user && @user.errors.any? %>
  <div>
    <strong>Some issues with your username, please fix them:</strong>
    <ul>
      <% @user.errors.full_messages.each do |user| %>
        <li><%= user %></li>
      <% end %>
    </ul>
  </div>
<% end %>
<form method="post" action="/login">
  <div>
    <label>Username:</label>
    <input type="text" name="name" value="<%= @user && @user.name %>">
  </div>
  <div>
    <input type="submit" value="Login">
  </div>
</form>